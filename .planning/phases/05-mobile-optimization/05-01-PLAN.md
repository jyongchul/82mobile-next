---
wave: 1
depends_on: []
files_modified:
  - components/mobile/StickyMobileCTA.tsx
  - components/layout/Header.tsx
  - app/[locale]/layout.tsx
autonomous: true
---

# Plan 05-01: Sticky Mobile CTA

## Objective

Create a sticky bottom CTA bar for mobile devices that displays cart count and provides quick access to checkout, improving conversion rates on mobile.

## Context

Mobile users (63% of traffic) need quick access to cart and checkout. Current desktop header cart icon doesn't provide prominent mobile CTA. Success criteria requires bottom bar or floating button showing cart count and "Checkout" on mobile.

## Tasks

<task id="1" name="Create StickyMobileCTA component">
Create `components/mobile/StickyMobileCTA.tsx` with:
- Fixed bottom positioning (z-50)
- Show only on mobile viewport (<768px)
- Display cart item count badge
- "View Cart" and "Checkout" buttons
- Smooth slide-up animation on mount
- Hide when cart is empty
- Use Tailwind + Framer Motion for animations
- Korean cultural colors (dancheong-red, jade-green)
</task>

<task id="2" name="Integrate with cart store">
Connect component to Zustand cart store:
- Import useCart hook from stores/cart.ts
- Subscribe to cart items and total
- Show item count badge
- Calculate if cart has items
- Auto-hide when cart emptied
</task>

<task id="3" name="Add to mobile layout">
Mount StickyMobileCTA in root layout:
- Import in `app/[locale]/layout.tsx`
- Render after main content
- Ensure it appears on all pages
- Test z-index doesn't conflict with drawer
</task>

<task id="4" name="Handle drawer interaction">
Update component to work with cart drawer:
- "View Cart" opens drawer to cart view
- "Checkout" opens drawer to checkout view
- Hide CTA when drawer is open (avoid overlap)
- Smooth transitions between states
</task>

<task id="5" name="Responsive behavior">
Implement mobile-only display:
- CSS media query: hidden on >=768px
- Smooth fade-out on viewport resize
- Test on various mobile sizes (320px-767px)
- Ensure doesn't interfere with scroll
</task>

## Verification

**Manual Testing:**
- [ ] Open site on mobile viewport (<768px)
- [ ] Add item to cart → CTA appears with count badge
- [ ] Click "View Cart" → drawer opens to cart view
- [ ] Click "Checkout" → drawer opens to checkout view
- [ ] Remove all items → CTA disappears
- [ ] Resize to desktop → CTA hidden
- [ ] CTA doesn't overlap with drawer
- [ ] Smooth animations (slide-up, fade)

**Code Quality:**
- [ ] TypeScript types for component props
- [ ] Framer Motion animations perform well
- [ ] Zustand subscription cleanup on unmount
- [ ] Tailwind classes for responsive design
- [ ] No console errors

## Must-Haves

1. **Sticky CTA visible on mobile**: Bottom bar displays on <768px viewports
2. **Cart count badge shown**: Badge displays number of items in cart
3. **Checkout button functional**: Button opens drawer to checkout view
4. **Auto-hide when empty**: CTA disappears when cart has 0 items

## Dependencies

- Zustand cart store (`stores/cart.ts`)
- Cart drawer component (Phase 3)
- Framer Motion library

## Success Metrics

- CTA renders on mobile viewports
- Cart count updates in real-time
- Click-to-checkout works
- Performance: <50ms interaction delay
