---
wave: 1
depends_on: []
files_modified:
  - messages/zh.json
  - messages/ja.json
  - i18n.ts
  - app/[locale]/layout.tsx
autonomous: true
---

# Plan 07-01: Remove zh/ja Language Files and Update Config

<objective>
Remove Chinese (zh) and Japanese (ja) language files from the codebase and update next-intl configuration to support only Korean (ko) and English (en).
</objective>

<context>
**Current State:**
- next-intl configured with 4 locales: ['ko', 'en', 'zh', 'ja']
- Language files exist at: messages/ko.json, messages/en.json, messages/zh.json, messages/ja.json
- i18n.ts exports locales array
- Each locale adds ~15-20KB to bundle

**Why This Matters:**
- 82Mobile targets Korean tourists and English speakers primarily
- zh/ja support was added speculatively but has minimal usage
- Removing unused locales will reduce bundle size by 30-40KB
- Simpler codebase with fewer maintenance points

**Files to Modify:**
1. `i18n.ts` - Update locales array to ['ko', 'en']
2. `app/[locale]/layout.tsx` - Update generateStaticParams to only generate ko/en
3. `messages/zh.json` - DELETE
4. `messages/ja.json` - DELETE
</context>

<tasks>

<task id="1">
<description>
Delete Chinese and Japanese translation files
</description>
<details>
Remove the unused language files from the messages directory:

```bash
rm messages/zh.json
rm messages/ja.json
```

These files contain full translations for zh (Chinese) and ja (Japanese) that are no longer needed since 82Mobile is focusing on ko/en support only.
</details>
</task>

<task id="2">
<description>
Update i18n.ts to remove zh/ja from locales array
</description>
<details>
Find the locales export in `i18n.ts` and update it to only include ko and en:

**Before:**
```typescript
export const locales = ['ko', 'en', 'zh', 'ja'] as const
```

**After:**
```typescript
export const locales = ['ko', 'en'] as const
```

This ensures TypeScript types and runtime validation only accept 'ko' or 'en' as valid locales.
</details>
</task>

<task id="3">
<description>
Update layout.tsx generateStaticParams to only generate ko/en routes
</description>
<details>
The root layout's generateStaticParams function defines which locale routes Next.js should pre-render at build time.

Update `app/[locale]/layout.tsx`:

**Before:**
```typescript
export function generateStaticParams() {
  return locales.map((locale) => ({ locale }))
}
// This would generate: /ko, /en, /zh, /ja
```

**After:**
```typescript
export function generateStaticParams() {
  return locales.map((locale) => ({ locale }))
}
// Since locales is now ['ko', 'en'], this generates only: /ko, /en
```

No code change needed here - it automatically uses the updated locales array from i18n.ts. Verify the import is correct:

```typescript
import { locales } from '@/i18n'
```
</details>
</task>

<task id="4">
<description>
Verify TypeScript compilation and build
</description>
<details>
After removing language files and updating configuration, ensure the project still builds successfully:

```bash
npm run build
```

Check for:
- No TypeScript errors related to locale types
- No build errors from next-intl
- Bundle size reduction in build output (should see ~30-40KB reduction)

The build should complete successfully and only generate routes for /ko and /en.
</details>
</task>

<task id="5">
<description>
Commit changes with descriptive message
</description>
<details>
Stage and commit all changes:

```bash
git add i18n.ts messages/
git commit -m "$(cat <<'EOF'
refactor(i18n): remove zh/ja languages, keep ko/en only

Removed:
- messages/zh.json
- messages/ja.json

Updated:
- i18n.ts: locales = ['ko', 'en']
- Next.js now generates only /ko and /en routes

Bundle impact: ~30-40KB reduction

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
EOF
)"
```
</details>
</task>

</tasks>

<verification>

**Manual Verification:**

1. **Files Deleted:**
   ```bash
   # Should return "No such file"
   ls messages/zh.json
   ls messages/ja.json
   ```

2. **Config Updated:**
   ```bash
   # Should show: export const locales = ['ko', 'en']
   grep "locales" i18n.ts
   ```

3. **Build Succeeds:**
   ```bash
   npm run build
   # Check build output for bundle size reduction
   ```

4. **Routes Generated:**
   - Visit http://localhost:3000/ko - should work
   - Visit http://localhost:3000/en - should work
   - Visit http://localhost:3000/zh - should 404
   - Visit http://localhost:3000/ja - should 404

**Automated Checks:**
- TypeScript compilation passes
- No next-intl errors in build log
- Build output shows reduced bundle size

</verification>

<must_haves>

These criteria must be met for Plan 07-01 to be considered complete:

1. **zh.json Deleted**: `messages/zh.json` file removed from codebase
2. **ja.json Deleted**: `messages/ja.json` file removed from codebase
3. **Locales Array Updated**: `i18n.ts` exports `locales = ['ko', 'en']` (not ['ko', 'en', 'zh', 'ja'])
4. **Build Successful**: `npm run build` completes without errors
5. **Routes Generated**: generateStaticParams produces only ko and en routes (not zh/ja)

</must_haves>

---

**Estimated Time:** 15-20 minutes
**Complexity:** Low (straightforward file deletion and config update)
**Risk:** Low (easily reversible, no runtime logic changes)
