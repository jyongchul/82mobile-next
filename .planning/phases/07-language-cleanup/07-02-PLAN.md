---
wave: 2
depends_on: ['07-01']
files_modified:
  - components/ui/LanguageSwitcher.tsx
  - components/layout/Header.tsx
autonomous: true
---

# Plan 07-02: Update Language Switcher UI

<objective>
Update the language switcher component to display only Korean (ko) and English (en) options, removing Chinese (zh) and Japanese (ja) from the UI.
</objective>

<context>
**Current State:**
- Language switcher likely shows 4 options: 한국어 (ko), English (en), 中文 (zh), 日本語 (ja)
- Component reads from i18n.ts locales array or has hardcoded options
- Switcher may be in Header, Footer, or dedicated LanguageSwitcher component

**Why This Matters:**
- After removing zh/ja files (Plan 07-01), the UI must reflect this change
- Users should only see ko/en options to avoid confusion
- Clicking zh/ja (if they still appear) would result in broken translations

**Expected Component Locations:**
1. `components/ui/LanguageSwitcher.tsx` - Dedicated switcher component
2. `components/layout/Header.tsx` - May have inline language switcher
3. `components/layout/Footer.tsx` - Alternative location for switcher

**Dependencies:**
- Plan 07-01 must complete first (i18n.ts locales updated to ['ko', 'en'])
</context>

<tasks>

<task id="1">
<description>
Find the language switcher component in the codebase
</description>
<details>
Search for language switcher implementations:

```bash
# Find files containing language switcher logic
grep -r "language" components/ --include="*.tsx" --include="*.ts"
grep -r "locale" components/ --include="*.tsx" --include="*.ts"
grep -r "LanguageSwitcher" components/ --include="*.tsx"

# Common locations to check:
# - components/ui/LanguageSwitcher.tsx
# - components/layout/Header.tsx
# - components/layout/Footer.tsx
```

Identify where the language options are defined (hardcoded vs. reading from i18n.ts).
</details>
</task>

<task id="2">
<description>
Update language switcher to use only ko/en options
</description>
<details>
Modify the language switcher component to display only Korean and English options.

**If reading from i18n.ts (preferred approach):**

```typescript
import { locales } from '@/i18n'

// Component automatically shows only ko/en since locales = ['ko', 'en']
const languageOptions = locales.map(locale => ({
  value: locale,
  label: locale === 'ko' ? '한국어' : 'English'
}))
```

**If hardcoded (needs manual update):**

Before:
```typescript
const languageOptions = [
  { value: 'ko', label: '한국어' },
  { value: 'en', label: 'English' },
  { value: 'zh', label: '中文' },
  { value: 'ja', label: '日本語' }
]
```

After:
```typescript
const languageOptions = [
  { value: 'ko', label: '한국어' },
  { value: 'en', label: 'English' }
]
```

Remove all references to 'zh' and 'ja' from the component.
</details>
</task>

<task id="3">
<description>
Update language labels/display names if using mapping object
</description>
<details>
If the component uses a mapping object for language display names, update it:

**Before:**
```typescript
const languageNames = {
  ko: '한국어',
  en: 'English',
  zh: '中文',
  ja: '日本語'
}
```

**After:**
```typescript
const languageNames = {
  ko: '한국어',
  en: 'English'
}
```

Or better yet, use a type-safe approach:

```typescript
const languageNames: Record<Locale, string> = {
  ko: '한국어',
  en: 'English'
}
// TypeScript will error if you try to add zh/ja since Locale is now 'ko' | 'en'
```
</details>
</task>

<task id="4">
<description>
Verify TypeScript types and remove zh/ja from locale type guards
</description>
<details>
Check for any type guards or validation logic that explicitly checks for zh/ja:

**Before:**
```typescript
if (locale === 'ko' || locale === 'en' || locale === 'zh' || locale === 'ja') {
  // ...
}
```

**After:**
```typescript
if (locale === 'ko' || locale === 'en') {
  // ...
}
```

Or better yet, use the Locale type:

```typescript
import type { Locale } from '@/i18n'

function isValidLocale(locale: string): locale is Locale {
  return locales.includes(locale as Locale)
}
```

This approach automatically validates against ['ko', 'en'] without hardcoding.
</details>
</task>

<task id="5">
<description>
Test language switcher functionality
</description>
<details>
Manual testing checklist:

1. **Desktop View:**
   - Language switcher displays only "한국어" and "English"
   - Clicking 한국어 switches site to Korean
   - Clicking English switches site to English
   - No zh/ja options visible

2. **Mobile View:**
   - Language switcher works in mobile menu/header
   - Only 2 options displayed
   - Switching updates content correctly

3. **URL Routing:**
   - Switching to Korean → /ko/...
   - Switching to English → /en/...
   - No /zh/ or /ja/ routes accessible

Run dev server and test:
```bash
npm run dev
# Visit http://localhost:3000
# Test language switching
```
</details>
</task>

<task id="6">
<description>
Commit language switcher updates
</description>
<details>
Stage and commit the updated language switcher:

```bash
git add components/
git commit -m "$(cat <<'EOF'
feat(i18n): update language switcher for ko/en only

Updated LanguageSwitcher component:
- Display only Korean (한국어) and English options
- Removed Chinese (中文) and Japanese (日本語) options
- Simplified UI with 2 languages instead of 4

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
EOF
)"
```
</details>
</task>

</tasks>

<verification>

**Manual Verification:**

1. **UI Shows Only 2 Options:**
   - Visit http://localhost:3000
   - Open language switcher
   - Verify only "한국어" and "English" are shown
   - No "中文" or "日本語" options visible

2. **Switching Works:**
   - Click 한국어 → URL becomes /ko/..., content in Korean
   - Click English → URL becomes /en/..., content in English
   - Browser back button works correctly

3. **Mobile Responsive:**
   - Test on mobile viewport (DevTools)
   - Language switcher accessible in mobile menu
   - Only 2 options displayed

**Automated Checks:**
- TypeScript compilation passes
- No console errors when switching languages
- No broken translations (all keys exist in ko.json and en.json)

**Code Review:**
```bash
# Verify no zh/ja references remain in language switcher
grep -i "zh\|ja\|中文\|日本語" components/ui/LanguageSwitcher.tsx
grep -i "zh\|ja\|中文\|日本語" components/layout/Header.tsx
# Should return no results
```

</verification>

<must_haves>

These criteria must be met for Plan 07-02 to be considered complete:

1. **Switcher Shows 2 Options**: Language switcher UI displays only "한국어" (ko) and "English" (en)
2. **No zh/ja in UI**: No Chinese (中文) or Japanese (日本語) options visible anywhere
3. **Switching Functional**: Clicking each option correctly updates site language and URL
4. **TypeScript Valid**: No TypeScript errors related to locale types
5. **Mobile Responsive**: Language switcher works correctly on mobile viewport

</must_haves>

---

**Estimated Time:** 20-30 minutes
**Complexity:** Low-Medium (depends on component structure)
**Risk:** Low (UI-only change, easily tested)
