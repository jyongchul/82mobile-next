---
phase: 02-product-discovery
plan: 06
type: execute
wave: 3
depends_on: ["02-01", "02-02", "02-03", "02-04", "02-05"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Complete product discovery flow works end-to-end"
    - "Products load, filter, expand, and add to cart without errors"
    - "Mobile and desktop experiences both function correctly"
    - "Performance meets requirements (60fps, <3s load)"
---

<objective>
Verify all Phase 2 features work together correctly in both mobile and desktop viewports.

Purpose: Integration testing to ensure product discovery flow is complete before moving to Phase 3 (Cart).
Output: Verification report confirming all success criteria met.
</objective>

<execution_context>
@/home/charles_lee/.claude/get-shit-done/workflows/execute-plan.md
@/home/charles_lee/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
All Phase 2 components:
@components/home/ProductsSection.tsx
@components/home/ProductFilter.tsx
@components/home/ProductExpanded.tsx
@components/ui/Toast.tsx
@hooks/useProducts.ts
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete Product Discovery system:
1. ProductsSection fetching real WooCommerce products
2. Toast notifications on add-to-cart
3. Product filtering by type (eSIM/Physical) and duration
4. Inline product expansion modal
5. Lazy loading images with priority hints
  </what-built>
  <how-to-verify>
**Start dev server:** `cd /mnt/c/82Mobile/82mobile-next && npm run dev`

**Desktop Verification (Chrome at 1920x1080):**
1. Navigate to http://localhost:3000
2. Scroll to Products section - verify:
   - [ ] Real products load (not mock data)
   - [ ] Loading skeleton shows briefly
   - [ ] 6 products display in 3-column grid

3. Test filtering:
   - [ ] Click "eSIM" - only eSIM products show
   - [ ] Click "Physical" - only physical SIM products show
   - [ ] Click "30-day" - only 30-day products show
   - [ ] Combine filters - correct intersection
   - [ ] "Clear filters" resets to all

4. Test product expansion:
   - [ ] Click product card - modal opens with animation
   - [ ] Modal shows image, name, price, description
   - [ ] Click "Add to Cart" - toast appears, modal closes
   - [ ] Click backdrop - modal closes
   - [ ] Press Escape - modal closes

5. Test add-to-cart:
   - [ ] Add multiple items - toasts stack
   - [ ] Toasts auto-dismiss after 3s
   - [ ] Cart badge in header updates

**Mobile Verification (Chrome DevTools, iPhone 12 Pro):**
1. Toggle device toolbar to iPhone 12 Pro
2. Verify:
   - [ ] Products in single-column grid
   - [ ] Filters are touch-friendly
   - [ ] Product modal is full-screen
   - [ ] Add-to-cart button is tappable (44px+)

**Performance Verification:**
1. Open Network tab, disable cache
2. Reload page:
   - [ ] First 3 images load immediately
   - [ ] Scroll down - remaining images lazy load
   - [ ] Images use WebP format (check headers)

3. Open Lighthouse:
   - [ ] Performance > 80 (desktop)
   - [ ] "Properly size images" passes
   - [ ] "Defer offscreen images" passes
  </how-to-verify>
  <resume-signal>Type "approved" if all checks pass, or describe issues found</resume-signal>
</task>

</tasks>

<verification>
Human verification checkpoint ensures:
1. All features work together
2. No regressions from integration
3. Mobile and desktop both functional
4. Performance requirements met
</verification>

<success_criteria>
All checkboxes in verification task marked as complete
</success_criteria>

<output>
After completion, create `.planning/phases/02-product-discovery/02-06-SUMMARY.md` with verification results
</output>
